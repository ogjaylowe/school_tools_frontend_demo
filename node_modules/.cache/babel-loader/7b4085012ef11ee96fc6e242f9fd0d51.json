{"ast":null,"code":"import _slicedToArray from \"/Users/jaylowe/Projects/Orion/orion_web_tools_demo/React Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jaylowe/Projects/Orion/orion_web_tools_demo/React Frontend/src/components/AdminHomeworkClubView.js\";\nimport React from \"react\";\nimport configValues from '../config.js';\nimport TableR from './TableR.js';\nimport CollectionForm from './CollectionForm.js';\nimport DescriptionText from './DescriptionText.js';\nimport Selector from './Selector.js';\nimport CallbackButton from './CallbackButton.js';\nimport TableComponent from './TableComponent.js';\nimport HomebridingTable from './HomebridingTable.js';\nimport DatePicker from './DatePicker.js';\nimport LoginMenu from './LoginMenu.js';\nimport ParentView from \"./ParentView.js\";\nimport Nav from \"./Nav.js\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\"; //// **** INITIALIZATIONS **** ////\n// sets up the uniqid hashing function for use with component id's\n\nvar uniqid = require('uniqid'); // reference values from config.js\n\n\nvar students = configValues.students;\nvar times = configValues.times;\nvar classes = configValues.classes;\nvar periods = configValues.periods; // headers for each type of table\n\nvar hwcHeaders = configValues.homeworkClubHeaders;\nvar detentionHeaders = [];\n\nfunction getFormattedDate(date) {\n  var year = date.getFullYear();\n  var month = (1 + date.getMonth()).toString();\n  month = month.length > 1 ? month : '0' + month;\n  var day = date.getDate().toString();\n  day = day.length > 1 ? day : '0' + day;\n  return month + '/' + day + '/' + year;\n}\n\nclass AdminHomeworkClubView extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      homeworkEntries: [],\n      detentionEntries: [],\n      dueDate: \"\",\n      descriptionText: \"\"\n    };\n  }\n\n  /*\n  assignedBy: \"Lowe\"\n  class: \"Intro to Technology\"\n  date: \"1970-01-01T00:00:00.000Z\"\n  description: \"test 1\"\n  period: 5\n  student: \"5eb0a14c8ec536f27b41a3b0\"\n  _id: \"5ed525a9fee16b4ece3ceae5\"\n  */\n  componentDidMount() {\n    // TODO: use the homeworkEntries collected from the DB via fetch\n    // to populate the TableComponent/s!\n    fetch(\"/api/adminHomeworkClub\", {\n      method: 'GET'\n    }).then(res => res.json()) //.then(//create TableComponents here! Can I use a .forEach with onClickAddHomeworkCard?)\n    // this.setState({ homeworkEntries }\n    .then(homeworkEntries => this.initialPopulation(homeworkEntries));\n    this.setState({\n      dueDate: getFormattedDate(new Date())\n    });\n  }\n\n  initialPopulation(listOfEntries) {\n    for (let _ref of Object.entries(listOfEntries)) {\n      var _ref2 = _slicedToArray(_ref, 2);\n\n      let key = _ref2[0];\n      let value = _ref2[1];\n      console.log(`${key}: ${value}`);\n    }\n  }\n\n  onClickAddHomeworkCard() {\n    // TODO: refactor these uncontrolled components\n    var qstudentName = document.querySelector('#studentNames').value;\n    var qclassSection = document.querySelector('#classSection').value;\n    var qReferenceIndex = uniqid(); // TODO: add a fetch API command here to update the homework club collection that TableR draws from\n\n    this.setState(prevState => ({\n      homeworkEntries: [...prevState.homeworkEntries, React.createElement(TableComponent, {\n        id: uniqid(),\n        referenceIndex: qReferenceIndex,\n        studentName: qstudentName,\n        selectorValue: qclassSection,\n        description: this.state.descriptionText,\n        dueDate: this.state.dueDate,\n        callbackRef: event => this.onClickRemoveCard(event),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      })]\n    }));\n  }\n\n  onClickRemoveCard(event) {\n    this.setState({\n      homeworkEntries: this.state.homeworkEntries.filter(function (entry) {\n        return entry.props.referenceIndex !== event.target.id;\n      })\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(CollectionForm, {\n      collectionLegend: \"Homework Club\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Selector, {\n      configObjectValue: \"studentNames\",\n      arrayToMap: students,\n      labelText: \"Select a student: \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(Selector, {\n      configObjectValue: \"classSection\",\n      arrayToMap: classes,\n      labelText: \"Class of assignment: \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(Selector, {\n      configObjectValue: \"classPeriod\",\n      arrayToMap: periods,\n      labelText: \"Class Period: \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(DescriptionText, {\n      callbackFunction: () => this.setState({\n        descriptionText: document.querySelector('#descriptionText').value\n      }),\n      passedStateValue: this.state.descriptionText,\n      descriptionPlaceholder: \"Description of assignment\",\n      passedId: \"descriptionText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(DatePicker, {\n      callbackFunction: () => this.setState({\n        dueDate: document.querySelector('#date').value\n      }),\n      passedStateValue: this.state.dueDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(CallbackButton, {\n      callbackFunction: () => this.onClickAddHomeworkCard(),\n      buttonDisplayValue: \"Add Student\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    })), React.createElement(TableR, {\n      entries: this.state.homeworkEntries,\n      tableHeaders: hwcHeaders,\n      tableLegend: \"Homework Club Entries\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default AdminHomeworkClubView;","map":{"version":3,"sources":["/Users/jaylowe/Projects/Orion/orion_web_tools_demo/React Frontend/src/components/AdminHomeworkClubView.js"],"names":["React","configValues","TableR","CollectionForm","DescriptionText","Selector","CallbackButton","TableComponent","HomebridingTable","DatePicker","LoginMenu","ParentView","Nav","BrowserRouter","Router","Switch","Route","Link","uniqid","require","students","times","classes","periods","hwcHeaders","homeworkClubHeaders","detentionHeaders","getFormattedDate","date","year","getFullYear","month","getMonth","toString","length","day","getDate","AdminHomeworkClubView","Component","state","homeworkEntries","detentionEntries","dueDate","descriptionText","componentDidMount","fetch","method","then","res","json","initialPopulation","setState","Date","listOfEntries","Object","entries","key","value","console","log","onClickAddHomeworkCard","qstudentName","document","querySelector","qclassSection","qReferenceIndex","prevState","event","onClickRemoveCard","filter","entry","props","referenceIndex","target","id","render"],"mappings":"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","sourcesContent":["import React from \"react\"\n\nimport configValues from '../config.js';\n\nimport TableR from './TableR.js';\n\nimport CollectionForm from './CollectionForm.js';\nimport DescriptionText from './DescriptionText.js';\nimport Selector from './Selector.js';\nimport CallbackButton from './CallbackButton.js';\nimport TableComponent from './TableComponent.js';\n\nimport HomebridingTable from './HomebridingTable.js';\nimport DatePicker from './DatePicker.js';\nimport LoginMenu from './LoginMenu.js';\nimport ParentView from \"./ParentView.js\";\nimport Nav from \"./Nav.js\";\n\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link\n} from \"react-router-dom\";\n\n//// **** INITIALIZATIONS **** ////\n// sets up the uniqid hashing function for use with component id's\nvar uniqid = require('uniqid');\n\n// reference values from config.js\nvar students = configValues.students\nvar times = configValues.times\nvar classes = configValues.classes\nvar periods = configValues.periods\n\n// headers for each type of table\nvar hwcHeaders = configValues.homeworkClubHeaders\nvar detentionHeaders = []\n\n\nfunction getFormattedDate(date) {\n    var year = date.getFullYear();\n\n    var month = (1 + date.getMonth()).toString();\n    month = month.length > 1 ? month : '0' + month;\n\n    var day = date.getDate().toString();\n    day = day.length > 1 ? day : '0' + day;\n\n    return month + '/' + day + '/' + year;\n}\n\nclass AdminHomeworkClubView extends React.Component {\n    state = {\n        homeworkEntries: [],\n        detentionEntries: [],\n        dueDate: \"\",\n        descriptionText: \"\",\n    }\n\n    /*\n    assignedBy: \"Lowe\"\n    class: \"Intro to Technology\"\n    date: \"1970-01-01T00:00:00.000Z\"\n    description: \"test 1\"\n    period: 5\n    student: \"5eb0a14c8ec536f27b41a3b0\"\n    _id: \"5ed525a9fee16b4ece3ceae5\"\n    */\n   \n    componentDidMount() {\n        // TODO: use the homeworkEntries collected from the DB via fetch\n        // to populate the TableComponent/s!\n        fetch(\"/api/adminHomeworkClub\", {\n            method: 'GET'\n        })\n            .then(res => res.json())\n            //.then(//create TableComponents here! Can I use a .forEach with onClickAddHomeworkCard?)\n            // this.setState({ homeworkEntries }\n            .then(homeworkEntries => this.initialPopulation(homeworkEntries))\n\n        this.setState({\n            dueDate: getFormattedDate(new Date())\n        })\n    }\n\n    initialPopulation(listOfEntries) {\n        for (let [key, value] of Object.entries(listOfEntries)) {\n            console.log(`${key}: ${value}`);\n          }\n    }\n\n    onClickAddHomeworkCard() {\n        // TODO: refactor these uncontrolled components\n        var qstudentName = document.querySelector('#studentNames').value\n        var qclassSection = document.querySelector('#classSection').value\n\n        var qReferenceIndex = uniqid()\n\n        // TODO: add a fetch API command here to update the homework club collection that TableR draws from\n        this.setState(prevState => ({\n            homeworkEntries: [...prevState.homeworkEntries,\n            <TableComponent\n                id={uniqid()}\n                referenceIndex={qReferenceIndex}\n                studentName={qstudentName}\n                selectorValue={qclassSection}\n                description={this.state.descriptionText}\n                dueDate={this.state.dueDate}\n                callbackRef={(event) => this.onClickRemoveCard(event)}\n            />\n            ]\n        }))\n    }\n\n    onClickRemoveCard(event) {\n        this.setState(\n            {\n                homeworkEntries: this.state.homeworkEntries.filter(function (entry) {\n                    return entry.props.referenceIndex !== event.target.id\n                })\n            }\n        );\n    }\n\n    render() {\n        return (\n            <div>\n                <CollectionForm collectionLegend={\"Homework Club\"}>\n                    <Selector\n                        configObjectValue=\"studentNames\"\n                        arrayToMap={students}\n                        labelText=\"Select a student: \"\n                    />\n                    <Selector configObjectValue=\"classSection\" arrayToMap={classes} labelText=\"Class of assignment: \" />\n                    <Selector configObjectValue=\"classPeriod\" arrayToMap={periods} labelText=\"Class Period: \" />\n                    <DescriptionText\n                        callbackFunction={() => this.setState({ descriptionText: document.querySelector('#descriptionText').value })}\n                        passedStateValue={this.state.descriptionText}\n                        descriptionPlaceholder={\"Description of assignment\"}\n                        passedId=\"descriptionText\"\n                    />\n                    <DatePicker\n                        callbackFunction={() => this.setState({ dueDate: document.querySelector('#date').value })}\n                        passedStateValue={this.state.dueDate}\n                    />\n                    <CallbackButton callbackFunction={() => this.onClickAddHomeworkCard()} buttonDisplayValue=\"Add Student\" />\n                </CollectionForm>\n\n                <TableR entries={this.state.homeworkEntries} tableHeaders={hwcHeaders} tableLegend=\"Homework Club Entries\" />\n            </div>\n        )\n    }\n}\n\nexport default AdminHomeworkClubView"]},"metadata":{},"sourceType":"module"}